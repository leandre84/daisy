<?xml version="1.0" encoding="UTF-8"?>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                 xmlns:h="http://xmlns.jcp.org/jsf/html"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:f="http://xmlns.jcp.org/jsf/core"
                 xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <p:dataGrid id="cart" var="item" value="#{checkoutController.cartEntries}" columns="1" layout="grid" emptyMessage="There are currently no products in your cart">

        <f:facet name="header">
            <p:outputLabel value="Your cart" />
        </f:facet>

        <h:panelGrid columns="2" cellspacing="20" style="border: 1">
            <p:outputLabel value="#{item.key.name}"/>
            <p:outputLabel value="#{item.value}"/>
        </h:panelGrid>

    </p:dataGrid>
    
    <p:panelGrid columns="1" rendered="#{not empty checkoutController.cartEntries}">
        <p:outputLabel value="Total: #{checkoutController.cartTotal}"/>
    </p:panelGrid>
    
    <p:panelGrid columns="2">
        <p:outputLabel value="Name"/>
        <p:outputLabel value="#{checkoutController.loginController.user.friendlyName()}"/>
    </p:panelGrid>
    
    <p:commandButton value="Buy!" action="#{checkoutController.commitOrder()}"/>
    

</ui:composition>
