<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">    

    <h:head>
        <link rel="shortcut icon" type="image/x-icon" href="images/favicon1.png"/>
        
        <style type="text/css">
            
            .ui-widget {
                font-size: 85%;
            }
            
            .ui-panelgrid td, .ui-panelgrid tr {
                border-style: none !important
            }
            
            .ui-datagrid-no-border>.ui-datagrid-content {
                border: none !important
            }	
            
        </style>
                
    </h:head>

    <h:body>
        
        <h:form id="msgs">
            <p:growl id="msgs" autoUpdate="true" showDetail="true"/>
        </h:form>
        
        <p:layout fullPage="true">
            
            <!-- NORTH - menubar -->
            <!-- Menubar's conditional layout handled in menubar.xhtml -->
            <p:layoutUnit position="north" style="border: none">
                <ui:include src="menubar.xhtml" />  
            </p:layoutUnit>
            
            <!-- WEST conditionally - categories -->
            <p:layoutUnit position="west" style="border: none;" rendered="#{not empty tokenController.installationToken}">
                <ui:include src="categories.xhtml" />
            </p:layoutUnit>
            
            <!-- CENTER conditionally - content based on presence of installationToken -->
            <p:layoutUnit position="center" style="border: none" rendered="#{not empty tokenController.installationToken}">
                <!-- need this for accurate render condition -->
                <p:outputPanel autoUpdate="true" style="border: none">
                    <ui:include src="#{navigationController.currentPage}" />
                </p:outputPanel>
            </p:layoutUnit>
            <p:layoutUnit position="center" style="border: none" rendered="#{empty tokenController.installationToken}">
                <ui:include src="token.xhtml" />
            </p:layoutUnit>
            
        </p:layout>

    </h:body>
</html>
